---
layout: news_post
title: "CVE-2017-17405: Vulnerabilidade de injeção de comandos em Net::FTP"
author: "nagachika"
translator: "fpgentil"
date: 2017-12-14 16:00:00 +0000
tags: security
lang: pt
---

Existe uma vulnerabilidade de injeção de comandos em Net::FTP junto do Ruby.
Essa vulnerabilidade foi atribuída ao identificador
[CVE-2017-17405](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-17405).

## Detalhes

`Net::FTP#get`, `getbinaryfile`, `gettextfile`, `put`, `putbinaryfile`, e
`puttextfile` usam `Kernel#open` para abrir um arquivo local. Se o argumento de `localfile`
inicia com o caractere barra vertical (_pipe_) `"|"`, o comando seguido do _pipe_ é executado.
O valor padrão de `localfile` é `File.basename(remotefile)`, então servidores FTP maliciosos
podem executar comandos aleatórios.

Todos usuários executando uma versão afetada devem atualizá-la imediatamente.

## Versões Afetadas

* Série do Ruby 2.2: 2.2.8 e anteriores
* Série do Ruby 2.3: 2.3.5 e anteriores
* Série do Ruby 2.4: 2.4.2 e anteriores
* Série do Ruby 2.5: 2.5.0-preview1
* anteriores ao _trunk_ r61242

## Créditos

Obrigado a Etienne Stalmans do time de segurança do Heroku por reportar o _issue_.

## Histórico

* Publicado originalmente em 2017-12-14 16:00:00 (UTC)
